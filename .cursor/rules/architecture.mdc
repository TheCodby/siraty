---
description: 
globs: 
alwaysApply: true
---
# ğŸ—ï¸ Project Architecture for "Ø³ÙŠØ±ØªÙŠ" - Career Coaching AI Tool

## ğŸ“¦ Tech Stack
- **Framework**: Next.js 15 (App Router)
- **Styling**: Tailwind CSS
- **State Management**: Zustand or Context API
- **Language Support**: next-intl (for i18n and RTL)
- **Backend**: API routes (for LLM interaction), optional FastAPI microservice
- **Database**: PostgreSQL with Prisma ORM (optional for persistence)
- **AI Integration**: OpenAI GPT (via API)
- **PDF Generation**: Puppeteer

---

## ğŸ“ Feature-Based Folder Structure (Clean Architecture)

```
src/
â”œâ”€â”€ app/                    # Next.js app directory
â”‚   â”œâ”€â”€ layout.tsx         # Root layout with language/theme setup
â”‚   â”œâ”€â”€ page.tsx           # Home page
â”‚   â”œâ”€â”€ create-cv/         # CV builder flow
â”‚   â”œâ”€â”€ improve-cv/        # AI enhancement chat
â”‚   â”œâ”€â”€ match-jd/          # JD matcher
â”‚   â”œâ”€â”€ ats-score/         # ATS grader and report
â”‚   â””â”€â”€ api/               # API routes
â”‚       â”œâ”€â”€ chat/route.ts  # AI chat endpoint
â”‚       â””â”€â”€ score/route.ts # ATS scoring logic
â”‚
â”œâ”€â”€ features/
â”‚   â”œâ”€â”€ cv-builder/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â””â”€â”€ hooks/
â”‚   â”œâ”€â”€ jd-matching/
â”‚   â”œâ”€â”€ ats-grading/
â”‚   â””â”€â”€ ai-chat/
â”‚
â”œâ”€â”€ components/            # Shared UI components
â”‚   â”œâ”€â”€ layout/
â”‚   â””â”€â”€ ui/
â”‚
â”œâ”€â”€ lib/                   # Utilities and helpers
â”‚   â”œâ”€â”€ openai.ts          # OpenAI API client
â”‚   â””â”€â”€ ats.ts             # ATS scoring functions
â”‚
â”œâ”€â”€ locales/               # i18n translation files
â”‚   â”œâ”€â”€ en/
â”‚   â””â”€â”€ ar/
â”‚
â”œâ”€â”€ middleware.ts          # i18n middleware for Next.js
â”œâ”€â”€ types/                 # TypeScript types/interfaces
â”œâ”€â”€ styles/                # Tailwind config and global styles
â””â”€â”€ config/                # App-wide constants and config
```

---

## ğŸ”„ Clean Architecture Principles

- **Separation of Concerns**: Each `feature` handles its UI, logic, and state.
- **Reusable Components**: Shared UI lives in `components/ui`.
- **Domain Isolation**: Business logic is encapsulated in `lib/` and `features/*/utils`.
- **Type Safety**: All API and state types in `types/`.
- **Scalable**: New features can be added in `features/` and routed via `app/`.

---

## ğŸ—‚ Suggested Pages
| Route           | Purpose                            |
|----------------|-------------------------------------|
| `/`            | Homepage                            |
| `/create-cv`   | CV creation (step-by-step form)     |
| `/improve-cv`  | AI-powered CV enhancement chat      |
| `/match-jd`    | Match user CV with a job description|
| `/ats-score`   | Display ATS score and feedback      |

---

## ğŸŒ Language Support
- Use `next-intl` to load messages from `locales/en` and `locales/ar`.
- Apply RTL direction in `layout.tsx` if Arabic is selected.

---

## ğŸ§  AI Integration
- AI chat and JD matching connect to `/api/chat/route.ts`
- ATS scoring logic in `/api/score/route.ts`
- Calls made via fetch/Axios with proper error handling

---

## ğŸ§ª Future Enhancements
- User authentication (if needed)
- PDF export for final CV
- Database integration (PostgreSQL + Prisma)

- AI memory/context for better chat experience